<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Dots Survivor - Zecruu Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dots-survivor.css">
</head>

<body>
    <!-- Auth Menu -->
    <div id="auth-menu" class="menu-overlay">
        <div class="menu-content" style="max-width: 400px;">
            <h1 class="game-title">DOTS<span>SURVIVOR</span></h1>
            <p class="game-subtitle">Sign in to save progress & compete on leaderboards!</p>

            <!-- Login/Register Toggle -->
            <div id="auth-tabs" style="display:flex;gap:0;margin:1.5rem 0;">
                <button id="tab-login" class="auth-tab active" onclick="showAuthTab('login')">LOGIN</button>
                <button id="tab-register" class="auth-tab" onclick="showAuthTab('register')">REGISTER</button>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="auth-form">
                <input type="text" id="login-username" placeholder="Username or Email" required>
                <input type="password" id="login-password" placeholder="Password" required>
                <div id="login-error" class="auth-error"></div>
                <button type="submit" class="menu-btn primary">LOGIN</button>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="auth-form hidden">
                <input type="text" id="register-username" placeholder="Username (3-20 chars)" required minlength="3"
                    maxlength="20">
                <input type="email" id="register-email" placeholder="Email" required>
                <input type="password" id="register-password" placeholder="Password (6+ chars)" required minlength="6">
                <div id="register-error" class="auth-error"></div>
                <button type="submit" class="menu-btn primary">CREATE ACCOUNT</button>
            </form>

            <button id="play-guest-btn" class="menu-btn secondary" style="margin-top:1rem;">PLAY AS GUEST</button>
        </div>
    </div>

    <!-- Start Menu -->
    <div id="start-menu" class="menu-overlay hidden">
        <div class="menu-content">
            <div id="user-info" style="position:absolute;top:1rem;right:1rem;text-align:right;"></div>
            <h1 class="game-title">DOTS<span>SURVIVOR</span></h1>
            <p class="game-subtitle">How long can you survive?</p>

            <!-- Saved Game Notice -->
            <div id="saved-game-notice" class="hidden"
                style="background:#00ffaa22;border:2px solid #00ffaa;border-radius:12px;padding:1rem;margin:1rem 0;">
                <p style="color:#00ffaa;margin:0;">üíæ You have a saved game!</p>
                <div style="display:flex;gap:0.5rem;margin-top:0.5rem;">
                    <button id="continue-btn" class="menu-btn primary" style="flex:1;">CONTINUE</button>
                    <button id="new-game-btn" class="menu-btn secondary" style="flex:1;">NEW GAME</button>
                </div>
            </div>

            <button id="start-btn" class="menu-btn primary">START GAME</button>
            <button id="leaderboard-btn" class="menu-btn secondary" style="margin-top:0.5rem;">üèÜ LEADERBOARDS</button>

            <div class="controls-info">
                <p>üéÆ WASD or Arrow Keys to move</p>
                <p>üî´ Auto-fire enabled</p>
            </div>
        </div>
    </div>

    <!-- Leaderboard Menu -->
    <div id="leaderboard-menu" class="menu-overlay hidden">
        <div class="menu-content" style="max-width:500px;">
            <h1 style="color:#fbbf24;margin-bottom:1rem;">üèÜ LEADERBOARDS</h1>

            <div id="leaderboard-tabs" style="display:flex;gap:0;margin-bottom:1rem;">
                <button class="lb-tab active" data-category="wave">üåä Waves</button>
                <button class="lb-tab" data-category="kills">üíÄ Kills</button>
                <button class="lb-tab" data-category="score">‚≠ê Score</button>
            </div>

            <div id="leaderboard-content" style="min-height:300px;">
                <div class="lb-loading">Loading...</div>
            </div>

            <button id="lb-back-btn" class="menu-btn secondary" style="margin-top:1rem;">‚Üê BACK</button>
        </div>
    </div>

    <!-- Game Canvas -->
    <canvas id="game-canvas"></canvas>

    <!-- Game HUD -->
    <div id="game-hud" class="hidden">
        <div class="hud-top">
            <button id="hud-pause-btn"
                style="background:none;border:none;font-size:1.5rem;cursor:pointer;color:#fff;margin-right:1rem;">‚è∏Ô∏è</button>
            <div class="timer-display">
                <span id="timer">00:00</span>
                <div id="horde-indicator" style="font-size:0.8rem;color:#ff4466;margin-top:0.2rem;display:none;">‚ö†Ô∏è
                    Horde in <span id="horde-waves">0</span> waves</div>
            </div>
            <div class="wave-display">
                Wave <span id="wave-num">1</span>
            </div>
        </div>
        <div class="hud-bottom">
            <div class="xp-bar-container">
                <div id="xp-bar" class="xp-bar"></div>
                <span id="level-display">Lv. 1</span>
            </div>
            <div class="stats-display">
                <span id="kill-count">üíÄ 0</span>
            </div>
        </div>
    </div>

    <!-- Level Up Menu -->
    <div id="levelup-menu" class="menu-overlay hidden">
        <div class="levelup-content">
            <h2>‚¨ÜÔ∏è LEVEL UP!</h2>
            <p class="choose-text">Choose an upgrade:</p>
            <div id="upgrade-choices" class="upgrade-choices">
                <!-- Choices injected by JS -->
            </div>
        </div>
    </div>

    <!-- Diamond Augment Menu -->
    <div id="augment-menu" class="menu-overlay hidden" style="background: rgba(0, 20, 40, 0.95);">
        <div class="levelup-content" style="border-color: #00ffff; box-shadow: 0 0 50px rgba(0, 255, 255, 0.3);">
            <h2 style="color: #00ffff; text-shadow: 0 0 20px cyan;">üíé DIAMOND AUGMENT üíé</h2>
            <p class="choose-text" style="color: #aee;">Choose a powerful class enhancement:</p>
            <div id="augment-choices" class="upgrade-choices">
                <!-- Choices injected by JS -->
            </div>
        </div>
    </div>

    <!-- Game Over Menu -->
    <div id="gameover-menu" class="menu-overlay hidden">
        <div class="menu-content gameover">
            <h1>üíÄ GAME OVER</h1>
            <div class="final-stats">
                <p>‚è±Ô∏è Survived: <span id="final-time">00:00</span></p>
                <p>üíÄ Kills: <span id="final-kills">0</span></p>
                <p>üìà Level: <span id="final-level">1</span></p>
            </div>
            <div id="new-record" class="hidden" style="color:#fbbf24;font-size:1.2rem;margin:1rem 0;">üèÜ NEW PERSONAL
                BEST!</div>
            <button id="restart-btn" class="menu-btn primary">PLAY AGAIN</button>
            <a href="index.html" class="menu-btn secondary">BACK TO HUB</a>
        </div>
    </div>

    <script src="dots-survivor-auth.js"></script>
    <script src="dots-survivor.js"></script>
</body>

</html>